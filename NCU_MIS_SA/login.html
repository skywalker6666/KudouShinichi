<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Login</title>
<style>
</style>
<link rel="stylesheet" href="statics/css/register&login.css">
<link rel="stylesheet" href="statics/css/navbar.css">
</head>
<body bgcolor="#BCE2FF">

	<ul class="navbar">
		<li class="navbar"><a href="index.html"><img src="statics/img/navbar/icon.png" style="float: left" height="100px" width="100px" ></img></a></li>
		<li class="navbar"><a class="navbarItem" href="index.html">Home</a></li>
		<li class="navbar"><a class="navbarItem" href="productIndex.html">商品總覽</a></li>
		<li class="navbar"><a class="navbarItem"
			href="order_tracking.html">訂單追蹤</a></li>
		<li class="navbar"><a class="navbarItem" href="shoppingcart.html">購物車</a></li>
		<li style="float: right"><a class="navbarItemSide" href="login_selected.html">會員註冊/登入</a></li>
	</ul>

	<div class="box"
		style="border: 0px #FBEE98 solid; border-radius: 50px; background-color: #FBEE98;">
		<font face="DFKai-sb" size="6" color="blue"> <label
			style="margin-left: 32px; line-height: 50px">會員登入</label>
		</font>
		<div class="box2"
			style="border: 0px #FBEE98 solid; text-align: center; border-radius: 50px; background-color: white;">
			<font face="DFKai-sb">
				<form id="form" accept-charset="utf-8"
					style="line-height: 50px; margin-top: 100px">

					<div class="input text required">
						<label for="member_name">會員帳號</label> <input class="field"
							name="name" type="text" id="member_name" required="required">
					</div>
					<div class="input password required">
						<label for="password">會員密碼</label> <input class="field"
							name="password" type="password" id="member_password"
							required="required">
					</div>
					<div>
						<button type="submit" class="button" id="login">登入</button>
					</div>
				</form>
		</div>
	</div>
</body>
<script>
	$("#login").click(function () {
		var LoginRes=ValidMemberLogin();
		alert(LoginRes);
	}
	    
	
			

	function ValidMemberLogin() {
		var login_result=false;
        $.ajax({
            type: "GET",
            url: "api/member.do",
            crossDomain: true,
            cache: false,
            dataType: 'json',
            timeout: 5000,
            success: function (response) { 
            	var id_count=1;
                if(response.status == 200){
                	$.each(response.response.data, function (id_counter,value){
                		if($("#member_name").val()==response['response']['data'][id_counter]['name']&&('member_password').val()== response['response']['data'][id_account]['password'])
                		{	
                			login_result=true;
                		}
                		else
                			login_result=false;
                	})
                	
                	
                }
                console.log(response);
            },
            error: function () {
                alert("無法連線到伺服器！");
            }
        });
        return login_result;
    }
/*$.ajax({
    type: "PUT",
    url: "api/member.do",
    data: data_string,
    crossDomain: true,
    cache: false,
    dataType: 'json',
    timeout: 5000,
    success: function (response) {
        if(response.status == 200){
        	$.confirm({
              theme: 'modern',
              icon: 'fa fa-check-circle-o',
              type: 'green',
              animation: 'scale',
              title: '系統提醒',
              content: "「登入成功」"+$("#member_name").val()+"您好!",
              buttons: {
                  確定: {
                      text: '確定',
                      btnClass: 'btn-blue',
                      action: function () {
                    	  cleanAllData();
                        document.location.href = "index.html";
                      }
                  }
              }
          });
        }
    },
    error: function () {
        alert("帳號或密碼錯誤！");
    }
  });*/
 function ValidData(){}
 function GetAllMember(){}



</script>
</html>